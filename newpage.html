<!DOCTYPE html>
<html lang="bn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>পয়েন্ট ক্যালকুলেটর - ফলাফল</title>

    <!-- Tailwind CSS CDN -->
    <link href="https://unpkg.com/tailwindcss@3.3.2/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- DaisyUI CDN -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style2.css">
</head>

<body class="bg2 h-screen px-5">
    <section class="flex text-center gap-4 w-[100%] justify-between mx-auto sm:w-3/4" id="sec1">
        <!-- div 1 -->
        <div class="mt-24" id="lb1">
            <h1 id="h1" class="text-xl font-bold"></h1>
            <label>
                <input class="text-center" id="total-1" placeholder="Total" value="0" />
            </label>
            <label>
                <input class="px-2 text-center" id="sum1" type="text" placeholder="Enter " />
            </label>
        </div>
        <!-- div 2 -->
        <div class="mt-24" id="lb2">
            <h1 id="h2" class="text-xl font-bold"></h1>
            <label>
                <input class="text-center" id="total-2" placeholder="Total" value="0" />
            </label>
            <label>
                <input class="text-center" id="sum2" type="text" placeholder="Enter" />
            </label>
        </div>
        <!-- div 3 -->
        <div class="mt-24" id="lb3">
            <h1 id="h3" class="text-xl font-bold"></h1>
            <label>
                <input class="text-center" id="total-3" placeholder="Total" value="0" />
            </label>
            <label>
                <input class="text-center" id="sum3" type="text" placeholder="Enter " />
            </label>
        </div>
        <!-- div 4 -->
        <div class="mt-24" id="lb4">
            <h1 id="h4" class="text-xl font-bold"></h1>
            <label>
                <input class="text-center" id="total-4" placeholder="Total" value="0" />
            </label>
            <label>
                <input class="text-center" id="sum4" type="text" placeholder="Enter " />
            </label>
        </div>
    </section>

    <!-- Update Button -->
    <div class="w-48 mx-auto">
        <button class="red2 w-full font-semibold" type="button" id="doSum">
            UPDATE
        </button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Retrieve stored input values from localStorage
            const inputData1 = localStorage.getItem('inputData1');
            const inputData2 = localStorage.getItem('inputData2');
            const inputData3 = localStorage.getItem('inputData3');
            const inputData4 = localStorage.getItem('inputData4');

            // Set the values to the respective <h1> elements
            document.getElementById('h1').innerText = inputData1 || 'Player 1';
            document.getElementById('h2').innerText = inputData2 || 'Player 2';
            document.getElementById('h3').innerText = inputData3 || 'Player 3';
            document.getElementById('h4').innerText = inputData4 || 'Player 4';
        });
        // Event listener for the UPDATE button
        document.getElementById('doSum').addEventListener('click', function () {
            // Get input values from each player's sum field and convert them to numbers
            const sum1 = parseFloat(document.getElementById('sum1').value) || 0;
            const sum2 = parseFloat(document.getElementById('sum2').value) || 0;
            const sum3 = parseFloat(document.getElementById('sum3').value) || 0;
            const sum4 = parseFloat(document.getElementById('sum4').value) || 0;

            // Get current total values from each player's total field and convert them to numbers
            const total1 = parseFloat(document.getElementById('total-1').value) || 0;
            const total2 = parseFloat(document.getElementById('total-2').value) || 0;
            const total3 = parseFloat(document.getElementById('total-3').value) || 0;
            const total4 = parseFloat(document.getElementById('total-4').value) || 0;

            // Calculate new totals by adding the sum to the current total
            const finalTotal1 = total1 + sum1;
            const finalTotal2 = total2 + sum2;
            const finalTotal3 = total3 + sum3;
            const finalTotal4 = total4 + sum4;

            // Update the total input fields with the new totals
            document.getElementById('total-1').value = finalTotal1;
            document.getElementById('total-2').value = finalTotal2;
            document.getElementById('total-3').value = finalTotal3;
            document.getElementById('total-4').value = finalTotal4;

            // Clear the sum input fields after updating the totals
            document.getElementById('sum1').value = '';
            document.getElementById('sum2').value = '';
            document.getElementById('sum3').value = '';
            document.getElementById('sum4').value = '';

            // Clear previous values and append new values to each div
            const lb1 = document.getElementById("lb1");
            const lb2 = document.getElementById("lb2");
            const lb3 = document.getElementById("lb3");
            const lb4 = document.getElementById("lb4");

            // Create and append new paragraphs with updated total values before the labels
            const p1 = document.createElement('p');
            const p2 = document.createElement('p');
            const p3 = document.createElement('p');
            const p4 = document.createElement('p');

            p1.innerText = sum1;
            p2.innerText = sum2;
            p3.innerText = sum3;
            p4.innerText = sum4;

            lb1.insertBefore(p1, lb1.querySelector('label'));
            lb2.insertBefore(p2, lb2.querySelector('label'));
            lb3.insertBefore(p3, lb3.querySelector('label'));
            lb4.insertBefore(p4, lb4.querySelector('label'));
        });
    </script>


</body>

</body>

</html>